<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>配列（jquery）</title>
</head>
<body>
<h1>配列：todo</h1>

todo：<input type="text" id="title">
<button id="add">add</button><br>
↓add<div id="view"></div>

<script>
    const titles = [];
    $("#add").on("click", function(){
        $("#view").empty();
        const t = $("#title").val();
        titles.push(t);
        for(let i = 0; i<titles.length; i++){
            $("#view").prepend('<div class="delete" data-titles="'+i+'">'+titles[i]+'</div>');
        }
        let value = $("#title").val(); 
        let now = new Date();
        localStorage.setItem(now.toString(),value);
    });

    $("div").on("click",".delete", function(){
        $("#view").empty();
        titles.splice($(this).attr("data-titles"), 1);
        for(let i=0; i<titles.length; i++){
            $("#view").prepend('<div class="delete" data-titles="'+i+'">'+titles[i]+'</div>');
        }

    });

    for(let i=0; i<localStorage.length; i++){
    const key   = localStorage.key(i);
    const value = localStorage.getItem(key);
    $("#view").append(value+"<br>");
}

    



//     localStorage.setItem("Date.now()");

//     for(let i=0; i<localStorage.length; i++){
//     const key   = localStorage.key(i);
//     // key="name"
//     const value = localStorage.getItem(key);
//     $("#view").append(value+"<br>");
// }

    // localStorage.setItem("")
    // const a = localStorage.getItem("name");
    // $("#view").html(a);

</script>
    
</body>
</html>